# HTTPμ μ‘μ©

### μΏ ν‚¤

---

- μΏ ν‚¤μ μ •μ : HTTPμ statelessν• μ„±μ§μ„ λ³΄μ™„ν•κΈ° μ„ν• μλ‹¨, μ„λ²„μ—μ„ μƒμ„±λμ–΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ— μ €μ¥λλ” <μ΄λ¦„, κ°’> μ ν•νƒμ λ°μ΄ν„°.
    - μΏ ν‚¤μ λ§λ£ κΈ°κ°„κ³Ό κ°™μ€ μ¶”κ°€ μ†μ„± λ³΄μ  κ°€λ¥
- μΏ ν‚¤ μ •λ³΄ ν™•μΈ : κ°λ°μ λ„κµ¬β†’ Application β†’ Storage β†’ Cookies μ—μ„  μ†μ„± ν™•μΈ κ°€λ¥
- (μ—¬κΈ°λ‹¤κ°€ μ΄λ―Έμ§€ λ„£μ)
- μ„λ²„ - ν΄λΌμ΄μ–ΈνΈ μΏ ν‚¤ μ „μ†΅ λ°©μ‹ :
    - μ„λ²„κ°€ μΏ ν‚¤ μƒμ„± β†’ ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ β†’ ν΄λΌμ΄μ–ΈνΈλ” μΏ ν‚¤λ¥Ό μ €μ¥ β†’ μ¶”ν›„ κ°™μ€ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Ό λ• μ”μ²­ λ©”μ‹μ§€μ— μΏ ν‚¤λ¥Ό *μλ™μΌλ΅* ν¬ν•¨ν•μ—¬ μ „μ†΅
- μΏ ν‚¤μ λ€ν‘μ μΈ μ†μ„± :
    - domain : μΏ ν‚¤λ¥Ό μ „μ†΅ν•  λ„λ©”μΈ μ ν•
    - path : μΏ ν‚¤λ¥Ό μ „μ†΅ν•  κ²½λ΅ μ ν•
        
        ```python
        μ”μ²­ λ©”μ‹μ§€
        # μ•„λμ²λΌ μ—¬λ¬ μΏ ν‚¤ μ „λ‹¬ μ‹ μ„Έλ―Έμ½λ΅ μΌλ΅ κµ¬λ¶„
        Cookie : μ΄λ¦„=κ°’;,  μ΄λ¦„=κ°’;
        
        GET /next_page HTTP/1.1
        Host : example.com
        Cookie: name=minchul; phone=100-100; message=Hello
        ...ν—¤λ” ν›„λµ...
        
        μ‘λ‹µ λ©”μ‹μ§€ 
        Set-Cookie: name=minchul domain=minchul.net
        Set-Cookie: name=minchul path=/lectures
        
        ```
        
    - Expires, Max-Age : μΏ ν‚¤ μ ν¨ κΈ°κ°„μΌλ΅ ν•΄λ‹Ή μ‹κ°„μ΄ μ§€λ‚λ©΄ μΏ ν‚¤λ” μ‚­μ λμ–΄ μ „λ‹¬λμ§€ μ•μ.
        - expiresλ” λ‚ μ§, Max-ageλ” μ΄λ‹¨μ„ μ ν¨κΈ°κ°„μΌλ΅ ν‘κΈ°
        
        ```python
        Set-Cookie: sessionID=abc123; Expires=Fri,  23 Aug 2024 09:00:00 GMT
        Set-Cookie: sessionID=abc123; Max-age=2592000
        ```
        
    - Secure, HTTPOnly :
        - Secure : HTTPSλ¥Ό ν†µν•΄μ„λ§ μΏ ν‚¤λ¥Ό μ†΅μμ‹ ν•λΌλ” μ†μ„±
        - HTTPOnly : μλ°”μ¤ν¬λ¦½νΈλ¥Ό μ΄ν• μΏ ν‚¤μ μ ‘κ·Ό μ ν•, μ¤μ§ HTTP μ†΅μμ‹ μ„ ν†µν•΄μ„λ§ μΏ ν‚¤ μ ‘κ·Ό
        
        ```python
        Set-Cookie: sessionID=abc123; Secure
        Set-Cookie: sessionID=abc123; HTTPOnly
        ```
        
    
    <aside>
    π’΅
    
    μ›Ή μ¤ν† λ¦¬μ§€ 
    
    - μ›Ή μ¤ν† λ¦¬μ§€μ μ •μ : μ›Ή λΈλΌμ°μ € λ‚΄ μ €μ¥κ³µκ°„μΌλ΅, μΏ ν‚¤λ³΄λ‹¤ λ” ν° λ°μ΄ν„° μ €μ¥ κ°€λ¥
    - κΈ°λ¥ : ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό μ¶”μΈ΅ κ°€λ¥ν• <ν‚¤, κ°’> μμ΄ μμ.
    - μΏ ν‚¤μ™€μ μ°¨μ΄μ  : μλ™μΌλ΅ μ„λ²„μ— μ „μ†΅λμ§€ μ•μ.
    - μΆ…λ¥ :
        - λ΅μ»¬ μ¤ν† λ¦¬μ§€ : λ³„λ„ μ‚­μ ν•μ§€ μ•λ” ν• μκµ¬ μ €μ¥
        - μ„Έμ… μ¤ν† λ¦¬μ§€ : μ„Έμ… μ μ§€λλ” λ™μ• μ €μ¥λ¨
    </aside>
    

### μΊμ‹

---

- μ •μ : μ‘λ‹µλ°›μ€ μμ›μ μ‚¬λ³Έμ„ μ„μ‹ μ €μ¥ν•μ—¬ λ¶ν•„μ”ν• λ€μ—­ν­ λ‚­λΉ„μ™€ μ‘λ‹µ μ§€μ—° λ°©μ§€
- μΊμ‹μ μ ν¨κΈ°κ°„ :
    - μ„¤μ • : Expires ν—¤λ” (λ§λ£ λ‚ μ§) , Cache-Control: max-age (μ ν¨ κΈ°κ°„)
    - λ§λ£ μ‹ μ„λ²„ μ¬ μ”μ²­ μ—¬λ¶€ :
        - ν΄λΌμ΄μ–ΈνΈλ” μ ν¨κΈ°κ°„μ΄ λ§λ£λ μΊμ‹λ¥Ό μ‚¬μ©ν•  λ• μ„λ²„μ— μ›λ³Έ λ°μ΄ν„°μ λ³€κ²½ μ—¬λ¶€λ¥Ό μ§μν•¨ β†’ 
        μΊμ‹μ **μ‹ μ„ λ„ (cache freshness)**, μ¦‰ μµμ‹  λ°μ΄ν„°μ™€μ μΌμΉ μ •λ„λ¥Ό μ μ§€
        - **μ›λ³Έ λ°μ΄ν„°κ°€ λ³€κ²½λμ§€ μ•μ€ κ²½μ°:** μΊμ‹λ λ°μ΄ν„°λ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•λ©° μ ν¨κΈ°κ°„μ„ μ—°μ¥
        - **μ›λ³Έ λ°μ΄ν„°κ°€ λ³€κ²½λ κ²½μ°:** μ„λ²„μ—μ„ μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό λ°›μ•„ μΊμ‹λ¥Ό κ°±μ‹ 
    - λ³€κ²½ ν™•μΈμ„ μ„ν• λ‚ μ§ κΈ°λ° λ°©λ²• :  If-Modified-Since ν—¤λ”
        
        ![image.png](img/5-0.png)
        
    
    ```html
    HTTP/1.1 200 OK
    Date: Mon, 05 Feb 2024 12:00:00 GMT
    Content-type: text/plain
    Content-length: 100
    Expires: Tue, 06 Feb 2024 12:00:00 GMT
    
    λ‘ λ²μ§Έ μμ‹:
    HTTP/1.1 200 OK
    Date: Mon, 05 Feb 2024 12:00:00 GMT
    Content-type: text/plain
    Content-length: 100
    Cache-Control: max-age=1200
    
    ```
    
- μ„λ²„κ°€ μμ›μ„ μ²λ¦¬ν•λ” λ°©μ‹
    - **μ„λ²„κ°€ μ”μ²­λ°›μ€ μμ›μ΄ λ³€κ²½λ κ²½μ°:** μ„λ²„λ” μƒνƒ μ½”λ“ 200(OK)κ³Ό ν•¨κ» μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό λ°ν™
    - **μ„λ²„κ°€ μ”μ²­λ°›μ€ μμ›μ΄ λ³€κ²½λμ§€ μ•μ€ κ²½μ°:**  304 (Not Modified) λ°ν™
        - λ©”μ‹μ§€ λ³Έλ¬Έ μ—†μ, μμ›μ΄ λ³€κ²½λμ§€ μ•μ•λ‹¤λ” 304 μ½”λ“λ§ λ°ν™
        - ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹λ μμ› μ‚¬μ© κ°€λ¥
        - Last-Modified ν—¤λ”λ΅ μμ›μ 'λ§μ§€λ§‰ λ³€κ²½ μ‹μ 'μ„ μ•λ¦΄ μ μμ
    - **μ„λ²„κ°€ μ”μ²­λ°›μ€ μμ›μ΄ μ‚­μ λ κ²½μ°**: 404 (Not Found) λ°ν™
- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹  νλ¦„ (If-Modified-Since μ‚¬μ© μ‹):
    
    ![image.png](img/5-1.png)
    
- **ETag (Entity Tag)λ¥Ό μ΄μ©ν• μΊμ‹ κ²€μ¦:**
    - **Etag μ •μ** :  "μμ›μ λ²„μ „"μ„ μ‹λ³„ν•κΈ° μ„ν• μ •λ³΄
        - μ›λ³Έ μμ› λ³€κ²½ μ—¬λ¶€ ν™•μΈ μ‹ Etag κ°’ λ³€κ²½λ¨ β†’ ν•΄λ‹Ή μ •λ³΄λ΅ μμ› λ³€κ²½(λ²„μ „) ν™•μΈ κ°€λ¥
        - λ‚ μ§ κΈ°λ° μ •λ³΄λ³΄λ‹¤ μ •λ°€ν• μΊμ‹ κ²€μ¦μΌλ΅ λ” μ„ νΈλλ” λ°©μ‹
    - **If-None-Match header :** Etag λ…μ‹λ¨, λ…μ‹λ Etagκ°’κ³Ό μΌμΉν•λ” κ°’μ΄ μ—†λ‹¤λ©΄ λ³€κ²½λ μμ›μΌλ΅ μ‘λ‹µ
        
        ```html
        GET /index.html HTTP/1.1
        Host: www.example.com
        If-None-Match: "abc"
        ```
        

### μ½ν…μΈ  ν‘μƒ

---

- μ½ν…μΈ  ν‘μƒμ΄λ€? : κ°™μ€ μμ›μ— λ€ν•΄ ν•  μ μλ” μ—¬λ¬ ν‘ν„ μ¤‘ ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ¥ μ ν•©ν• μμ›μ ν‘ν„μ„ μ κ³µν•λ” κΈ°μ 
- λ€ν‘μ μΈ μ½ν…μΈ  ν‘μƒ ν—¤λ”:
    
    ```html
    GET /index.html HTTP/1.1
    Host: example.com
    Accept-Language: ko
    Accept: text/html
    // ν΄λΌμ΄μ–ΈνΈκ°€ example.comμ /index.html νμ΄μ§€λ¥Ό μ”μ²­ν•λ©΄μ„, ν•κµ­μ–΄λ¥Ό μ„ νΈν•κ³  HTML ν•μ‹μ„ μ„ νΈν•λ‹¤λ” κ²ƒμ„ μ„λ²„μ— μ•λ¦¬λ” κ²ƒ
    ```
    
    - `Accept`: μ„ νΈν•λ” λ―Έλ””μ–΄ νƒ€μ…μ„ λ‚νƒ€λ‚΄λ” ν—¤λ” (μ: `text/html`, `application/json`, `image/jpeg`)
    - `Accept-Language`: μ„ νΈν•λ” μ–Έμ–΄λ¥Ό λ‚νƒ€λ‚΄λ” ν—¤λ” (μ: `ko`, `en-US`, `fr`)
    - `Accept-Encoding`: μ„ νΈν•λ” μΈμ½”λ”© λ°©μ‹μ„ λ‚νƒ€λ‚΄λ” ν—¤λ” (μ: `gzip`, `deflate`, `br`)
- **ν΄λΌμ΄μ–ΈνΈμ μ°μ„ μμ„ μ „λ‹¬ (q κ°’):**
    - μ°μ„ μμ„λ€? : μ—¬λ¬ ν‘ν„μ— λ€ν• μ„ νΈλ„λ¥Ό μ„λ²„μ— μ•λ¦¬λ” κ²ƒ
    - 0(μ„ νΈλ„ λ‚®μ) ~ 1(μ„ νΈλ„ λ†’μ)κΉμ§€μ ν‘ν„, default =1
    - μμ‹ : 'μ–Έμ–΄λ” ν•κµ­μ–΄λ¥Ό κ°€μ¥ μ„ νΈν•μ§€λ§, μμ–΄λ„ λ°›μ„ μ©μκ°€ μλ‹¤', νΉμ€ 'λ―Έλ””μ–΄ νƒ€μ…μ€ HTML λ¬Έμ„λ¥Ό κ°€μ¥ μ„ νΈν•μ§€λ§, XMLμ„ κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•κ³ , μΌλ° ν…μ¤νΈλ¥Ό κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•λ‹¤β€™
        
        ```html
        GET /index.html HTTP/1.1
        Host: example.com
        Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
        Accept: text/html,application/xml;q=0.9,text/plain;q=0.6,*/*;q=0.5
        ```
        
- λ‡ κ°€μ§€ μμ‹ ν—¤λ”
    - **`Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7`**:
        - `ko-KR`: ν•κµ­μ–΄ (λ€ν•λ―Όκµ­)μ„ κ°€μ¥ μ„ νΈν•¨ (q=1.0, μƒλµλ¨).
        - `ko;q=0.9`: μΌλ° ν•κµ­μ–΄λ¥Ό κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•¨ (q=0.9).
        - `en-US;q=0.8`: λ―Έκµ­ μμ–΄λ¥Ό κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•¨ (q=0.8).
        - `en;q=0.7`: μΌλ° μμ–΄λ¥Ό κ°€μ¥ λ μ„ νΈν•¨ (q=0.7).
    - **`Accept: text/html,application/xml;q=0.9,text/plain;q=0.6,*/*;q=0.5`**:
        - `text/html`: HTMLμ„ κ°€μ¥ μ„ νΈν•¨ (q=1.0, μƒλµλ¨).
        - `application/xml;q=0.9`: XMLμ„ κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•¨ (q=0.9).
        - `text/plain;q=0.6`: μΌλ° ν…μ¤νΈλ¥Ό κ·Έ λ‹¤μμΌλ΅ μ„ νΈν•¨ (q=0.6).
        - `/*;q=0.5`: λ¨λ“  λ―Έλ””μ–΄ νƒ€μ…μ„ μμ©ν•μ§€λ§ μ°μ„ μμ„κ°€ λ‚®μ (q=0.5). `/*`λ” λ¨λ“  λ―Έλ””μ–΄ νƒ€μ…μ„ μλ―Έν•λ” μ™€μΌλ“μΉ΄

### λ³΄μ•: SSL/TLSμ™€ HTTPS:

---

- HTTP λ€? : SSL/TLSκ°€ λ”ν•΄μ§„ ν”„λ΅ν† μ½
    - **SSL (Secure Sockets Layer) / TLS (Transport Layer Security):** SSLκ³Ό TLSλ” λ¨λ‘ λ„¤νΈμ›ν¬ ν†µμ‹ μ„ μ•”νΈν™”ν•κ³  μΈμ¦ν•λ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. TLSλ” SSLμ ν›„μ† λ²„μ „μΌλ΅, SSLμ μ·¨μ•½μ μ„ κ°μ„ ν•κ³  κΈ°λ¥μ„ ν™•μ¥ν• κ²ƒμ…λ‹λ‹¤. ν„μ¬λ” SSLλ³΄λ‹¤ TLSκ°€ λ” λ„λ¦¬ μ‚¬μ©λκ³  μμΌλ©°, SSLμ€ λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ΄ κ¶μ¥λ©λ‹λ‹¤.
        - **μΈμ¦ (Authentication):** μ„λ²„μ μ‹ μ›μ„ ν™•μΈν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ¬λ°”λ¥Έ μ„λ²„μ™€ ν†µμ‹ ν•κ³  μλ”μ§€ ν™•μΈν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν”Όμ‹± κ³µκ²© λ“±μ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤.
        - **μ•”νΈν™” (Encryption):** ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ£Όκ³ λ°›λ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ 3μκ°€ λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ”λΌλ„ λ‚΄μ©μ„ ν•΄λ…ν•  μ μ—†λ„λ΅ ν•©λ‹λ‹¤.
        - **λ¬΄κ²°μ„± (Integrity):** λ°μ΄ν„° μ „μ†΅ μ¤‘μ— λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥ν•©λ‹λ‹¤.
- HTTPS λ€?  : HTTPμ— SSL(Secure Sockets Layer) λλ” TLS(Transport Layer Security)λΌλ” ν”„λ΅ν† μ½μ λ™μ‘μ΄ μ¶”κ°€λ ν”„λ΅ν† μ½
- HTTPS νΉμ§•
    - **μ•”νΈν™”:** SSL/TLS ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹  λ‚΄μ©μ„ μ•”νΈν™”ν•¨
    - **μΈμ¦:** μ„λ²„μ μ‹ μ›μ„ μΈμ¦ν•μ—¬ ν”Όμ‹±μ΄λ‚ μ¤‘κ°„μ κ³µκ²©μ„ λ°©μ§€
    - **λ¬΄κ²°μ„±:** λ°μ΄ν„° μ „μ†΅ μ¤‘ λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥
- TLS 1.3 κΈ°λ° HTTPS λ©”μ‹μ§€ μ†΅μμ‹  λ‹¨κ³„:
    - TLS 1.3μ νΉμ§•:
        - **κ°„μ†ν™”λ ν•Έλ“μ…°μ΄ν¬:** μ΄μ „ λ²„μ „λ³΄λ‹¤ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ΄ κ°„μ†ν™”λμ–΄ μ—°κ²° μ„¤μ • μ†λ„κ°€ λΉ¨λΌμ§
        - **κ°•ν™”λ μ•”νΈν™”:** μ•μ „ν•μ§€ μ•μ€ μ•”νΈν™” μ•κ³ λ¦¬μ¦μ΄ μ κ±°λκ³  μµμ‹ μ κ°•λ ¥ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦λ§ μ‚¬μ©
        - **0-RTT (Zero Round Trip Time) μ¬κ°:** μ΄μ „μ— μ—°κ²°ν–λ μ„λ²„μ™€ λ‹¤μ‹ μ—°κ²°ν•  λ• ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ„ μƒλµν•μ—¬ λ” λΉ λ¥΄κ² μ—°κ²°μ„ μ¬κ°ν•  μ μμ
    1. **TCP 3-Way Handshake (TCP 3-λ°©ν–¥ ν•Έλ“μ…°μ΄ν¬):**  TCP μ—°κ²°μ„ μ„¤μ •ν•λ” κ³Όμ •μΌλ΅, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” SYN, SYN-ACK, ACK ν¨ν‚·μ„ μ£Όκ³ λ°›μΌλ©° μ—°κ²°μ„ ν™•λ¦½ν•¨
        1. μ£Όκ³  λ°›λ” μ£Όμ” λ©”μ‹μ§€ 
            - **ClientHello:** ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ”μ²­ν•λ©΄μ„ λ³΄λ‚΄λ” μ²« λ²μ§Έ λ©”μ‹μ§€. ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” TLS λ²„μ „, μ•”νΈν™” μ•κ³ λ¦¬μ¦ λ©λ΅(cipher suites), λλ¤ κ°’ λ“±μ„ ν¬ν•¨ν•¨
            - **ServerHello:** μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ `ClientHello` λ©”μ‹μ§€μ— λ€ν• μ‘λ‹µμΌλ΅ λ³΄λ‚΄λ” λ©”μ‹μ§€μ…λ‹λ‹¤. μ„λ²„κ°€ μ„ νƒν• TLS λ²„μ „, μ•”νΈν™” μ•κ³ λ¦¬μ¦, μ„λ²„μ λλ¤ κ°’ λ“±μ„ ν¬ν•¨ν•©λ‹λ‹¤.
            - **Certificate:** μ„λ²„κ°€ μμ‹ μ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•©λ‹λ‹¤. μΈμ¦μ„λ” μ„λ²„μ μ‹ μ›μ„ λ³΄μ¦ν•λ” μ—­ν• μ„ ν•λ©°, κ³µκ° ν‚¤λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.
            - **CertificateVerify:** μ„λ²„κ°€ μμ‹ μ κ°μΈ ν‚¤λ΅ μ„λ…ν• λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•μ—¬ μΈμ¦μ„μ μ†μ κ¶μ„ μ¦λ…ν•©λ‹λ‹¤.
            - **Finished:** ν•Έλ“μ…°μ΄ν¬κ°€ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μμ„ μ•λ¦¬λ” λ©”μ‹μ§€μ…λ‹λ‹¤. μ΄ λ©”μ‹μ§€ μ΄ν›„λ¶€ν„°λ” μ•”νΈν™”λ ν†µμ‹ μ΄ μ‹μ‘λ©λ‹λ‹¤.
    2. **TLS Handshake (TLS ν•Έλ“μ…°μ΄ν¬):** ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅λ¥Ό μΈμ¦ν•κ³  μ•”νΈν™”μ— μ‚¬μ©ν•  ν‚¤λ¥Ό κµν™ν•¨
        - μ΄ κ³Όμ •μ„ ν†µν•΄ μ΄ν›„μ λ¨λ“  ν†µμ‹ μ€ μ•”νΈν™”λ μƒνƒλ΅ μ΄λ£¨μ–΄μ§
    3. **λ©”μ‹μ§€ μ†΅μμ‹ :**  TLSμ΄ν›„ λ°μ΄ν„°κ°€ μ•”νΈν™”ν•΄ μ „μ†΅λ¨
    
    ![image.png](img/5-2.png)
    
- TLS ν•Έλ“μ…°μ΄ν¬μ ν•µμ‹¬ λ‚΄μ©:
    - **ν‚¤ μƒμ„±/κµν™:** TLS ν•Έλ“μ…°μ΄ν¬λ¥Ό ν†µν•΄ μ•”νΈν™” ν†µμ‹ μ„ μ„ν• ν‚¤λ¥Ό μƒμ„±/κµν™ν•  μ μμ
    - **μΈμ¦μ„ μ†΅μμ‹  λ° κ²€μ¦:** μΈμ¦μ„ μ†΅μμ‹ κ³Ό κ²€μ¦μ΄ μ΄λ£¨μ–΄μ§ μ μμ

<aside>
π’΅

μ•”νΈν™” ν†µμ‹ μ„ μ„ν• ν‚¤'λ€? 

![image.png](img/5-3.png)

- **ν‚¤ μƒμ„± λ° κµν™:**
    - μ•”νΈν™”μ ν•µμ‹¬μ€ 'ν‚¤'μ…λ‹λ‹¤. ν‚¤λ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•λ” λ° μ‚¬μ©λλ” λΉ„λ°€ μ •λ³΄μ…λ‹λ‹¤.
    - TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ•μ „ν•κ² ν‚¤λ¥Ό κµν™ν•κ±°λ‚ μƒμ„±ν•©λ‹λ‹¤.
    - ν‚¤ κµν™ λ°©μ‹μ—λ” μ—¬λ¬ κ°€μ§€κ°€ μμΌλ©°, λ€ν‘μ μΈ μλ΅λ” RSA, Diffie-Hellman λ“±μ΄ μμµλ‹λ‹¤. μ΄λ¬ν• λ°©μ‹λ“¤μ€ μν•™μ μΈ λ°©λ²•μ„ μ‚¬μ©ν•μ—¬ μ•μ „ν•κ² ν‚¤λ¥Ό κ³µμ ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.
- **μΈμ¦μ„ μ†΅μμ‹  λ° κ²€μ¦:**
    - μΈμ¦μ„λ” μ„λ²„μ μ‹ μ›μ„ λ³΄μ¦ν•λ” λ””μ§€ν„Έ λ¬Έμ„μ…λ‹λ‹¤. μΈμ¦μ„μ—λ” μ„λ²„μ κ³µκ° ν‚¤, μ†μ μ μ •λ³΄, μΈμ¦ κΈ°κ΄€μ μ„λ… λ“±μ΄ ν¬ν•¨λμ–΄ μμµλ‹λ‹¤.
    - TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ μ„λ²„λ” μμ‹ μ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•©λ‹λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” μΈμ¦μ„λ¥Ό κ²€μ¦ν•μ—¬ μ„λ²„κ°€ μ‹¤μ λ΅ μ£Όμ¥ν•λ” μ„λ²„κ°€ λ§λ”μ§€ ν™•μΈν•©λ‹λ‹¤. μ΄ κ³Όμ •μ„ ν†µν•΄ μ¤‘κ°„μ κ³µκ²©(Man-in-the-middle attack)μ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤.
- μ•”νΈ μ¤μ„νΈ(Cipher suite)
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ© κ°€λ¥ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦κ³Ό ν•΄μ‹ ν•¨μλ¥Ό μ„λ²„μ— μ•λ¦¬κΈ° μ„ν•΄ Clientμ— μ•„λμ™€ κ°™μ€ μ •λ³΄(μ•”νΈ μ¤μ„νΈ) μ •λ³΄λ¥Ό ν¬ν•¨ν•΄ μ „μ†΅ν•¨.
        - **TLS_AES_128_GCM_SHA256:** AES-128 μ•”νΈν™” μ•κ³ λ¦¬μ¦, GCM (Galois/Counter Mode) μ•”νΈν™” λ°©μ‹, SHA256 ν•΄μ‹ ν•¨μ μ‚¬μ©
        - **TLS_AES_256_GCM_SHA384:** AES-256 μ•”νΈν™” μ•κ³ λ¦¬μ¦, GCM μ•”νΈν™” λ°©μ‹, SHA384 ν•΄μ‹ ν•¨μ μ‚¬μ©
        - **TLS_CHACHA20_POLY1305_SHA256:** ChaCha20 μ•”νΈν™” μ•κ³ λ¦¬μ¦, Poly1305 μΈμ¦ λ°©μ‹, SHA256 ν•΄μ‹ ν•¨μ μ‚¬μ©
        - **TLS_AES_128_CCM_SHA256:** AES-128 μ•”νΈν™” μ•κ³ λ¦¬μ¦, CCM (Counter with CBC-MAC) μ•”νΈν™” λ°©μ‹, SHA256 ν•΄μ‹ ν•¨μ μ‚¬μ©
        - **TLS_AES_128_CCM_8_SHA256:** AES-128 μ•”νΈν™” μ•κ³ λ¦¬μ¦, CCM μ•”νΈν™” λ°©μ‹ (μΈμ¦ νƒκ·Έ κΈΈμ΄ 8λ°”μ΄νΈ), SHA256 ν•΄μ‹ ν•¨μ μ‚¬μ©
</aside>

- **TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ • :** μ„λ²„λ” ClientHello λ©”μ‹μ§€μ— λ€ν• μ‘λ‹µμΌλ΅ ServerHello λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•©λ‹λ‹¤.
    - **ClientHello λ©”μ‹μ§€:** ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ”μ²­ν•λ©΄μ„ μ§€μ›ν•λ” TLS λ²„μ „, μ•”νΈ μ¤μ„νΈ λ©λ΅, λ‚μ(Random Number) λ“±μ μ •λ³΄λ¥Ό μ κ³µν•λ” λ©”μ‹μ§€. μ¦‰, μ•”νΈν™” μ΄μ „μ— λ§μ¶° λ΄μ•Ό ν•  μ •λ³΄λ“¤μ„ μ μ‹ν•λ” λ©”μ‹μ§€μ„.
    - **ServerHello λ©”μ‹μ§€:** μ„λ²„κ°€ ClientHello λ©”μ‹μ§€μ— μ μ‹λ μ •λ³΄λ“¤μ„ ν™•μΈν•κ³ , μ‚¬μ©ν•  TLS λ²„μ „, μ•”νΈ μ¤μ„νΈ, μ„λ²„μ λ‚μ λ“±μ„ μ„ νƒν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ ¤μ£Όλ” λ©”μ‹μ§€. μ¦‰, μ μ‹λ μ •λ³΄λ“¤μ„ μ„ νƒν•λ” λ©”μ‹μ§€μ„.
    - ClientHello λ©”μ‹μ§€μ™€ ServerHello λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›μΌλ©΄ μ•”νΈν™”λ ν†µμ‹ μ„ μ„ν•΄ μ‚¬μ „ ν‘μν•΄μ•Ό ν•  μ •λ³΄λ“¤μ΄ κ²°μ •λκ³ , κ²°μ •λ μ •λ³΄λ¥Ό ν† λ€λ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ•”νΈν™”μ— μ‚¬μ©ν•  ν‚¤λ¥Ό λ§λ“¤μ–΄ μ•”νΈν™” ν†µμ‹ μ„ μ‹μ‘ν•  μ μμ.
- μΈμ¦μ„ : TLS ν•Έλ“μ…°μ΄ν¬μ—μ„ μ„λ²„μ μ‹λ„μ–Έμ„ ν™•μΈν•κ³ , μ¤‘κ°„μ κ³µκ²©(Man-in-the-Middle Attack) λ°©μ§€
    - μΈμ¦μ„ λ°κΈ‰ κΈ°κ΄€(CA) μ‹ λΆ°ν•  μ μλ” μ  3μ κΈ°κ΄€γ…‡μ„ λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›λ” λ€μƒμ΄ λ‚΄κ°€ λ§λ‹¤λ” λ³΄μ¥μ„ ν•΄μ¤.
    - 

![image.png](img/5-4.png)